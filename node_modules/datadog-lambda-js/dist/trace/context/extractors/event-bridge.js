"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EventBridgeEventTraceExtractor = void 0;
var utils_1 = require("../../../utils");
var EventBridgeEventTraceExtractor = /** @class */ (function () {
    function EventBridgeEventTraceExtractor(tracerWrapper) {
        this.tracerWrapper = tracerWrapper;
    }
    EventBridgeEventTraceExtractor.prototype.extract = function (event) {
        var _a;
        var headers = (_a = event === null || event === void 0 ? void 0 : event.detail) === null || _a === void 0 ? void 0 : _a._datadog;
        if (headers === undefined)
            return null;
        try {
            var traceContext = this.tracerWrapper.extract(headers);
            if (traceContext === null)
                return null;
            (0, utils_1.logDebug)("Extracted trace context from Eventbridge event", { traceContext: traceContext, event: event });
            return traceContext;
        }
        catch (error) {
            if (error instanceof Error) {
                (0, utils_1.logDebug)("Unable to extract trace context from EventBridge event", error);
            }
        }
        return null;
    };
    return EventBridgeEventTraceExtractor;
}());
exports.EventBridgeEventTraceExtractor = EventBridgeEventTraceExtractor;
//# sourceMappingURL=event-bridge.js.map